[{"id":"555989cd.cdce88","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"f243dc51.45397","type":"inject","z":"555989cd.cdce88","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":163,"y":185,"wires":[["fd65b66a.6ff108"]]},{"id":"bf676c48.e55e3","type":"debug","z":"555989cd.cdce88","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":790,"y":260,"wires":[]},{"id":"fd65b66a.6ff108","type":"function","z":"555989cd.cdce88","name":"","func":"const puppeteer = global.get('puppeteer');\n\nlet browser;\npuppeteer.launch()\n  .then(b => {\n    browser = b;\n    return browser.newPage();\n  })\n  .then(page => {\n        page.goto('http://www.966sport.com/login/');\n      \n        const loginButtunSelector = '.login-box__form__submit';\n        page.waitForSelector(loginButtunSelector);\n        \n        node.warn('selector found');\n   \n        page.type('input[name=login]', 'K222');\n        page.type('input[name=password]', '222');\n        \n        page.click(loginButtunSelector);\n  })\n  .then(response => {return response.text()})\n  .then((responseData) => {\n      node.warn(\"here\");\n      msg.payload = responseData;\n      msg.topic = \"PAGE_LOADED\";\n      node.send(msg);\n  })","outputs":1,"noerr":0,"x":370,"y":180,"wires":[["14c3147a.02fd2c"]]},{"id":"14c3147a.02fd2c","type":"switch","z":"555989cd.cdce88","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"PAGE_LOADED","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":570,"y":220,"wires":[["f520d383.39aa1"]]},{"id":"f520d383.39aa1","type":"html","z":"555989cd.cdce88","name":"","property":"payload","tag":"html","ret":"html","as":"single","x":680,"y":340,"wires":[["bf676c48.e55e3"]]}]