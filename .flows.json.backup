[{"id":"555989cd.cdce88","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"f2ff6f77.dd264","type":"tab","label":"Flow 2","disabled":false,"info":""},{"id":"f243dc51.45397","type":"inject","z":"555989cd.cdce88","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":163,"y":185,"wires":[["fd65b66a.6ff108"]]},{"id":"bf676c48.e55e3","type":"debug","z":"555989cd.cdce88","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":790,"y":260,"wires":[]},{"id":"fd65b66a.6ff108","type":"function","z":"555989cd.cdce88","name":"","func":"const puppeteer = global.get('puppeteer');\n\nlet browser;\npuppeteer.launch()\n  .then(b => {\n    browser = b;\n    return browser.newPage();\n  })\n  .then(page => {\n        page.goto('http://www.966sport.com/login/');\n      \n        const loginButtunSelector = '.login-box__form__submit';\n        page.waitForSelector(loginButtunSelector);\n        \n        node.warn('selector found');\n  \n        page.type('.form-control [name=login]', 'K222');\n        page.type('.form-control [name=password]', '222');\n        \n        page.click(loginButtunSelector);\n  })\n  .then(response => {return response.text()})\n  .then((responseData) => {\n      node.warn(\"here\");\n      msg.payload = responseData;\n      msg.topic = \"PAGE_LOADED\";\n      node.send(msg);\n  })","outputs":1,"noerr":0,"x":370,"y":180,"wires":[["14c3147a.02fd2c"]]},{"id":"14c3147a.02fd2c","type":"switch","z":"555989cd.cdce88","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"PAGE_LOADED","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":570,"y":220,"wires":[["f520d383.39aa1"]]},{"id":"f520d383.39aa1","type":"html","z":"555989cd.cdce88","name":"","property":"payload","tag":"html","ret":"html","as":"single","x":680,"y":340,"wires":[["bf676c48.e55e3"]]},{"id":"17ca8ce.d30a173","type":"inject","z":"f2ff6f77.dd264","name":"","topic":"","payload":"","payloadType":"date","repeat":"10","crontab":"","once":false,"onceDelay":0.1,"x":190,"y":180,"wires":[["7c655885.c88968"]]},{"id":"7f71aacc.397064","type":"debug","z":"f2ff6f77.dd264","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":807,"y":255,"wires":[]},{"id":"ccd2df5f.052c4","type":"function","z":"f2ff6f77.dd264","name":"","func":"const puppeteer = global.get('puppeteer');\n\nlet browser;\npuppeteer.launch()\n  .then(b => {\n    browser = b;\n    return browser.newPage();\n  })\n  .then(page => page.goto('https://www.google.com'))\n  .then(response => {return response.text()})\n  .then((responseData) => {\n      node.warn(\"here\");\n      msg.payload = responseData;\n      msg.topic = \"PAGE_LOADED\";\n      node.send(msg);\n  })","outputs":1,"noerr":0,"x":387,"y":175,"wires":[["3a9c5bdb.5d4d84"]]},{"id":"3a9c5bdb.5d4d84","type":"switch","z":"f2ff6f77.dd264","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"PAGE_LOADED","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":587,"y":215,"wires":[["eb441c8.fbc0ae"]]},{"id":"eb441c8.fbc0ae","type":"html","z":"f2ff6f77.dd264","name":"","property":"payload","tag":"","ret":"html","as":"single","x":697,"y":335,"wires":[["7f71aacc.397064"]]},{"id":"7c655885.c88968","type":"function","z":"f2ff6f77.dd264","name":"","func":"/**\n * Copyright 2017 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Search developers.google.com/web for articles tagged\n * \"Headless Chrome\" and scrape results from the results page.\n */\n\n'use strict';\n\nconst puppeteer = global.get('puppeteer');\n\n(async() => {\n  const browser = await puppeteer.launch({args: ['--no-sandbox', '--disable-setuid-sandbox']});\n  const page = await browser.newPage();\n\n  await page.goto('https://developers.google.com/web/');\n\n  // Type into search box.\n  await page.type('#searchbox input', 'Headless Chrome');\n\n  // Wait for suggest overlay to appear and click \"show all results\".\n  const allResultsSelector = '.devsite-suggest-all-results';\n  await page.waitForSelector(allResultsSelector);\n  await page.click(allResultsSelector);\n\n  // Wait for the results page to load and display the results.\n  const resultsSelector = '.gsc-results .gsc-thumbnail-inside a.gs-title';\n  await page.waitForSelector(resultsSelector);\n\n  // Extract the results from the page.\n  const links = await page.evaluate(resultsSelector => {\n    const anchors = Array.from(document.querySelectorAll(resultsSelector));\n    return anchors.map(anchor => {\n      const title = anchor.textContent.split('|')[0].trim();\n      return `${title} - ${anchor.href}`;\n    });\n  }, resultsSelector);\n  console.log(links.join('\\n'));\n\n  await browser.close();\n})();","outputs":1,"noerr":0,"x":320,"y":400,"wires":[[]]}]